{"version":3,"sources":["seed.js"],"names":["require","config","mongoose","Admin","seedAdmin","email","password","existingAdmin","hashedPassword","regeneratorRuntime","async","_context","prev","next","awrap","connect","process","env","MONGO_URI","findOne","sent","role","save","console","log","bcrypt","hash","create","name","exit","t0","error","stop"],"mappings":"aAAAA,QAAQ,UAAUC,SAClB,IAAMC,SAAWF,QAAQ,YADzBA,OAAQA,QAAUC,YAGZE,MAAQH,QAAQ,kBAEhBI,UAAY,WAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAERZ,SAASa,QAAQC,QAAQC,IAAIC,YAFrB,KAAA,EAAA,OAAZd,EAAY,8BAAAE,EAAA,cAAAK,EAAAE,KAAA,EAAAJ,mBAAAK,MAAAX,MAAAgB,QAAA,CAAAd,MAAAA,KAAA,KAAA,EAAA,GAAAE,EAAAI,EAAAS,KAAA,OAAAb,EAAAc,KAAA,aAAAV,EAAAE,KAAA,GAAAJ,mBAAAK,MAcNP,EAAce,QAdRX,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAU,QAAAC,IAAA,uDAAAb,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAA,OAAAF,EAAAE,KAAA,GAAAJ,mBAAAK,MAAAW,OAQdC,KAAApB,EAAA,KARc,KAAA,GAAA,OAMRA,EANQK,EAAAS,KAAAT,EAAAE,KAAA,GAAAJ,mBAAAK,MAmBNX,MAAMwB,OAAO,CAnBPC,KAAA,aAAAvB,MAAAA,EAS8BA,SAAKG,EAAPa,KAT5B,gBAAA,KAAA,GAAAE,QAAAC,IAAA,qCAAA,KAAA,GAAAD,QAAAC,IAWVjB,SAAAA,GAXUgB,QAAAC,IAAA,oBAAAR,QAAAa,OAAAlB,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAmB,GAAAnB,EAAA,MAAA,GAgCdY,QAAQQ,MAAM,uBAAdpB,EAAAmB,IApBEd,QAAAa,KAAA,GAZY,KAAA,GAAA,IAAA,MAAA,OAAAlB,EAAAqB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAqClB5B","file":"seed.min.js","sourcesContent":["require('dotenv').config();\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst Admin = require('./models/Admin');\n\nconst seedAdmin = async () => {\n  try {\n    await mongoose.connect(process.env.MONGO_URI);\n    \n    // Your details\n    const email = \"nidadavolunandini@gmail.com\";\n    const password = \"Nandini@123\"; \n\n    // Check if the admin already exists\n    const existingAdmin = await Admin.findOne({ email });\n    \n    if (existingAdmin) {\n      // If the admin exists but isn't a superadmin, update them\n      existingAdmin.role = 'superadmin';\n      await existingAdmin.save();\n      console.log(\"Admin already existed. Updated to Super Admin role!\");\n    } else {\n      // Create a brand new Super Admin\n      const hashedPassword = await bcrypt.hash(password, 10);\n      await Admin.create({\n        name: \"Main Admin\",\n        email: email,\n        password: hashedPassword,\n        role: \"superadmin\" // <--- THIS IS THE KEY CHANGE\n      });\n      console.log(\"Super Admin created successfully!\");\n    }\n\n    console.log(\"Email:\", email);\n    console.log(\"Role: superadmin\");\n    process.exit();\n  } catch (error) {\n    console.error(\"Error seeding admin:\", error);\n    process.exit(1);\n  }\n};\n\nseedAdmin();"]}