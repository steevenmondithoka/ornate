{"version":3,"sources":["seed.js"],"names":["require","config","mongoose","bcrypt","Admin","seedAdmin","connect","process","env","MONGO_URI","email","password","findOne","existingAdmin","role","save","console","log","hash","hashedPassword","create","name","exit","error"],"mappings":";;AAAAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,IAAMC,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMG,MAAM,GAAGH,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAMI,KAAK,GAAGJ,OAAO,CAAC,gBAAD,CAArB;;AAEA,IAAMK,SAAS,GAAG,SAAZA,SAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAERH,QAAQ,CAACI,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,SAA7B,CAFQ;;AAAA;AAId;AACMC,UAAAA,KALQ,GAKA,6BALA;AAMRC,UAAAA,QANQ,GAMG,aANH,EAQd;;AARc;AAAA,0CAScP,KAAK,CAACQ,OAAN,CAAc;AAAEF,YAAAA,KAAK,EAALA;AAAF,WAAd,CATd;;AAAA;AASRG,UAAAA,aATQ;;AAAA,eAWVA,aAXU;AAAA;AAAA;AAAA;;AAYZ;AACAA,UAAAA,aAAa,CAACC,IAAd,GAAqB,YAArB;AAbY;AAAA,0CAcND,aAAa,CAACE,IAAd,EAdM;;AAAA;AAeZC,UAAAA,OAAO,CAACC,GAAR,CAAY,qDAAZ;AAfY;AAAA;;AAAA;AAAA;AAAA,0CAkBiBd,MAAM,CAACe,IAAP,CAAYP,QAAZ,EAAsB,EAAtB,CAlBjB;;AAAA;AAkBNQ,UAAAA,cAlBM;AAAA;AAAA,0CAmBNf,KAAK,CAACgB,MAAN,CAAa;AACjBC,YAAAA,IAAI,EAAE,YADW;AAEjBX,YAAAA,KAAK,EAAEA,KAFU;AAGjBC,YAAAA,QAAQ,EAAEQ,cAHO;AAIjBL,YAAAA,IAAI,EAAE,YAJW,CAIE;;AAJF,WAAb,CAnBM;;AAAA;AAyBZE,UAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ;;AAzBY;AA4BdD,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBP,KAAtB;AACAM,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAV,UAAAA,OAAO,CAACe,IAAR;AA9Bc;AAAA;;AAAA;AAAA;AAAA;AAgCdN,UAAAA,OAAO,CAACO,KAAR,CAAc,sBAAd;AACAhB,UAAAA,OAAO,CAACe,IAAR,CAAa,CAAb;;AAjCc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;;AAqCAjB,SAAS","sourcesContent":["require('dotenv').config();\nconst mongoose = require('mongoose');\nconst bcrypt = require('bcryptjs');\nconst Admin = require('./models/Admin');\n\nconst seedAdmin = async () => {\n  try {\n    await mongoose.connect(process.env.MONGO_URI);\n    \n    // Your details\n    const email = \"nidadavolunandini@gmail.com\";\n    const password = \"Nandini@123\"; \n\n    // Check if the admin already exists\n    const existingAdmin = await Admin.findOne({ email });\n    \n    if (existingAdmin) {\n      // If the admin exists but isn't a superadmin, update them\n      existingAdmin.role = 'superadmin';\n      await existingAdmin.save();\n      console.log(\"Admin already existed. Updated to Super Admin role!\");\n    } else {\n      // Create a brand new Super Admin\n      const hashedPassword = await bcrypt.hash(password, 10);\n      await Admin.create({\n        name: \"Main Admin\",\n        email: email,\n        password: hashedPassword,\n        role: \"superadmin\" // <--- THIS IS THE KEY CHANGE\n      });\n      console.log(\"Super Admin created successfully!\");\n    }\n\n    console.log(\"Email:\", email);\n    console.log(\"Role: superadmin\");\n    process.exit();\n  } catch (error) {\n    console.error(\"Error seeding admin:\", error);\n    process.exit(1);\n  }\n};\n\nseedAdmin();"],"file":"seed.dev.js"}